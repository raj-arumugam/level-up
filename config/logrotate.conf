# Log rotation configuration for Portfolio Tracker

/app/logs/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 nodejs nodejs
    postrotate
        # Send SIGUSR1 to Node.js process to reopen log files
        pkill -SIGUSR1 node || true
    endscript
}

/var/log/nginx/*.log {
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 nginx nginx
    postrotate
        # Reload nginx to reopen log files
        nginx -s reopen || true
    endscript
}